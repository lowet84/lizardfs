version: '2'

services:
  base:
    image: lowet84/lizardfs-base
    build: build/base

  master:
    image: lowet84/lizardfs-master
    build: build/master
    network_mode: "host"
    ports:
    - 9419:9419
    - 9420:9420
    - 9421:9421

  cgi:
    image: lowet84/lizardfs-cgi
    build: build/cgi
    network_mode: "host"
    ports:
    - 9425:9425
    environment:
    - MFSMASTER=home.test
  
  chunk:
    image: lowet84/lizardfs-chunk
    build: build/chunk
    network_mode: "host"
    environment:
    - MFSMASTER=home.test
    volumes:
    - mfschunk:/mnt
    ports:
    - 9422:9422

volumes:
  mfschunk:
